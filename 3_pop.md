# Протоколо-ориентированное программирование

POP (Протокол ориентированное программирование)
Что такое протоколы и как их использовать?
Как создать опциональный метод или свойство протокола в Swift?
Протокол лучше наследования?

Варианты использование extension? Можно ли создавать хранимое свойство в
extension?

Что такое Protocol?
Протокол - это интерфейс, то есть они содержат абстрактные методы, константы и переменные. Протоколы обеспечивают совместную функциональность между классами. Вы можете реализовать несколько протоколов.

Что такое протокол (protocol)?
Протокол описывает методы и свойства, которые должны реализовать объекты реализующие этот протокол. Методы описанные в протоколе не имеют собственной реализации. Они реализуются в реализующем протокол классе.

Что такое протоколно-ориентированное программирование и в чем его преимущества?
В основе дизайна Swift лежат две невероятно мощные идеи: протокольно-ориентированное программирование и первоклассная семантика значений. Каждая из этих концепций способствует предсказуемости, производительности и продуктивности, но вместе они могут изменить наше представление о программировании. Узнайте, как применить эти идеи для улучшения написанного кода. protocol oriented programming

Как проверять, реализован ли необязательный метод протокола в унаследованном классе?
Можно использовать операторы is для проверки соответствия протоколу и as для приведения к определенному протоколу.

Кастинг типа. i​s, as

Что такое протоколы только для классов, можете ли вы написать для него код?
Вы можете ограничить принятие протокола типами классов (а не структурами или перечислениями), добавив протокол class в список наследования протокола.

Что такое протоколо-ориентированное программирование и в чем его преимущества?
Хотя ООП предлагает множество преимуществ, таких как инкапсуляция, контроль доступа и абстракции, но оно имеет свой собственный набор проблем, которые решает протоколно-ориентированное программирование.
Вы в основном начинаете с наследования одного класса, но затем понимаете, что вам нужно больше функциональности в вашем классе из другого класса. Это заставляет вас склоняться к множественному наследованию, которое не поддерживается большинством языков программирования, и приводит к нежелательной сложности.
Поскольку классы являются ссылочными типами, передача их в функциях может вызвать неожиданное поведение, особенно если вы работаете в многопоточной среде.
Из-за тесной связи классов друг с другом становится трудно писать модульные тесты для одного класса.

Разница между NSCoding и Codable?
Решение: для поддержки кодирования и декодирования экземпляров в iOS класс должен принять протокол NSCoding и реализовать его методы:
init (coder :) - возвращает объект, инициализированный из данных в данном unarchiver.
encode (with :) - кодирует получатель с помощью заданного архиватора.
init (coder :) и encode (with :) должны содержать код для каждого свойства, которое необходимо закодировать или декодировать.
Codable: сделайте ваши типы данных кодируемыми и декодируемыми для совместимости с внешними представлениями, такими как JSON. Он также обеспечивает поддержку классов, структур и перечислений.

Подкласс против категорий против расширений
Проще говоря, создание подклассов - это изменение поведения свойств или методов существующего класса.
Исходный код
Категории позволяют добавлять методы в класс, даже если его исходный код вам недоступен. пример: NSString
Расширения - это включает возможность расширения типов, для которых у вас нет доступа к исходному коду (известное как ретроактивное моделирование).
2. Переменная экземпляра / свойства
Категория: невозможно. Обратите внимание, что в категорию нельзя добавить переменную экземпляра, поскольку методы внутри категории добавляются к классу во время выполнения.
Расширения: возможно, расширения могут добавлять переменные экземпляра.
3. Доступность унаследованных классов.
Категория - все методы, определенные внутри категории, также доступны унаследованному классу.
Расширения - все свойства и методы, определенные внутри расширения класса, недоступны даже для унаследованного класса.
Вывод:
Подклассы - лучший вариант, если вы хотите настроить существующие материалы или функции, а Категория - лучший вариант, если вы хотите добавить дополнительные функции к существующему классу.
Обычно люди будут использовать расширения, чтобы скрыть личную информацию о классе, не открывая к ним доступ из любого другого класса.

Что такое категория (category) и когда она используется?
Механизм, позволяющий расширять уже существующие классы без применения наследования. Категория имеет доступ к переменным экземпляра исходного класса, однако с помощью категорий невозможно добавить новые переменные экземпляра.
В Swift называется расширение (extension). С помощью расширений можно определять значения по умолчанию для интерфейсов (protocol)
